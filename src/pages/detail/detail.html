<ion-header>
  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>

    <ion-title *ngIf="!issearchbaroponed">
        Live {{title}}
      </ion-title>
     <ion-searchbar  *ngIf="issearchbaroponed"  class="search-box" color="danger" [(ngModel)]="terms"      showCancelButton=true (ionCancel)="issearchbaroponed=false" ></ion-searchbar>

     <ion-buttons end>
      <button ion-button left icon-only *ngIf="!issearchbaroponed" (click)="issearchbaroponed=true">
         <ion-icon  name="search" ></ion-icon> 
      </button>
    </ion-buttons>

            <ion-buttons end>
                  <button ion-button left icon-only (click)="getLiveCountry()">
                     <ion-icon  name="md-refresh" ></ion-icon> 
                  </button>
           </ion-buttons>

           <ion-buttons end>
            <button ion-button left icon-only (click)="sort()">
              <ion-icon name="funnel"></ion-icon> 
            </button>
          </ion-buttons>

          

  </ion-navbar>
</ion-header>

    <ion-content padding>


      <ion-list>
        <ion-item>
          <ion-label floating>播放类型</ion-label>
          <ion-select [(ngModel)]="playType" (ngModelChange)="changeType($event)" interface="popover">
            <ion-option value="0" selected>RTMP直播</ion-option>
            <ion-option value="1">FLV直播</ion-option>
            <ion-option value="2">FLV点播</ion-option>
            <ion-option value="3">HLS点播</ion-option>
            <ion-option value="4">MP4点播</ion-option>
            <ion-option value="5">低延迟RTMP直播</ion-option>
            <ion-option value="6">本地视频</ion-option>
          </ion-select>
        </ion-item>
        <ion-item>
          <ion-label floating>测试地址</ion-label>
          <ion-input type="text" [(ngModel)]="url"></ion-input>
        </ion-item>
      </ion-list>
    
      <div padding style="margin-top: -20px">
        <button ion-button block (tap)="goToPlayerPage()">开始播放</button>
      </div>


      <!--col-3 col-md-4 col-xl-3 -->
        <ion-grid >
            <ion-row>
              <ion-col class="showbox" col-3 col-md-2 col-xl-2 *ngFor="let c of countries | slice:0:limit | search : terms | sort: {property: column, order: order}">
                
                <!-- src-fallback="{{ placeholder }}" -->
                    <img [src]="c.tvlogo" onerror="this.src='assets/imgs/icon.png'"  class="img">
                    
               <!-- <ionic-image-cache [src]="c.tvlogo" class="img"></ionic-image-cache> -->
       
                
                                  
                    <div class="middle">
                
                        <div> 
            <!--<ion-icon class="iconplay"   (click)="startVideo(c.tvmedia)"  name="play"></ion-icon> -->
            <ion-icon class="iconplay"   (click)="goToPlayerPage(c.tvmedia)"  name="play"></ion-icon>
                        </div>

                        <div> 
                           <ion-icon class="iconfav" (click)="CreateUser(c.id, c.tvtitle, c.tvmedia,c.tvname,c.tvlogo,c.tvgroup)"  name="heart"></ion-icon>
                        </div>

                    </div>
               
                        
            <strong>          
                        <p  style="font-weight:bold; text-align: center ; width:100%; font-size: 16px; color:rgb(0, 0, 0);">
                          {{c.tvname}}</p>
            </strong>       
              </ion-col>
            </ion-row>
          </ion-grid>


 
         
          <ion-infinite-scroll threshold="100px" (ionInfinite)="doInfinite($event)">
            <ion-infinite-scroll-content
            loadingSpinner="bubbles"
            loadingText="Loading more data...">
          </ion-infinite-scroll-content>
          </ion-infinite-scroll>
          

  </ion-content>
